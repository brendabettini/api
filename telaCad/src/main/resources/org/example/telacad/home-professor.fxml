<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.SVGPath?>

<StackPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="720.0" prefWidth="1280.0" styleClass="root" stylesheets="@css/ProfessorView.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.example.telacad.HomePController">
   <children>
      <AnchorPane fx:id="mainContent">
         <children>
            <VBox alignment="TOP_CENTER" prefWidth="140.0" spacing="20.0" styleClass="nav-panel" AnchorPane.bottomAnchor="70.0" AnchorPane.leftAnchor="30.0" AnchorPane.topAnchor="70.0">
               <padding>
                  <Insets top="20.0" />
               </padding>
               <children>
                  <VBox alignment="CENTER" spacing="5.0">
                     <children>
                        <StackPane prefHeight="70.0" prefWidth="70.0">
                           <children>
                              <Circle fill="#E0E0E0" radius="35.0" />
                              <SVGPath content="M12,12A5,5 0 0,1 7,7A5,5 0 0,1 12,2A5,5 0 0,1 17,7A5,5 0 0,1 12,12M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" styleClass="nav-icon" />
                           </children>
                        </StackPane>
                        <Label styleClass="professor-name" text="Professor" />
                     </children>
                  </VBox>
                  <Button fx:id="perfilBtn" mnemonicParsing="false" styleClass="nav-button" onAction="#abrirPerfil">
                     <graphic>
                        <SVGPath content="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.13,5.12L18.88,8.87M3,17.25V21H6.75L17.81,9.94L14.06,6.19L3,17.25Z" styleClass="nav-icon" />
                     </graphic>
                  </Button>
                  <Region VBox.vgrow="ALWAYS" />
                  <Button fx:id="addUserButton" mnemonicParsing="false" onAction="#addProf" styleClass="nav-button">
                     <graphic>
                        <SVGPath content="M15,14C17.67,14 23,15.33 23,18V20H7V18C7,15.33 12.33,14 15,14M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12M5,13.28L7.45,14.77L6.8,12.04L8.89,10.1L6.18,9.85L5,7.19L3.82,9.85L1.11,10.1L3.2,12.04L2.55,14.77L5,13.28Z" styleClass="nav-icon" />
                     </graphic>
                  </Button>
                  <Button mnemonicParsing="false" styleClass="nav-button">
                     <graphic>
                        <SVGPath content="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M8,12H16V14H8V12M8,16H16V18H8V16Z" styleClass="nav-icon" />
                     </graphic>
                     <VBox.margin>
                        <Insets bottom="10.0" />
                     </VBox.margin>
                  </Button>
               </children>
            </VBox>
            <Button fx:id="sairBtn" onAction="#sair" styleClass="btn-voltar" text="Sair" AnchorPane.bottomAnchor="25.0" AnchorPane.leftAnchor="30.0" />
            <HBox styleClass="main-content-panel" AnchorPane.bottomAnchor="70.0" AnchorPane.leftAnchor="200.0" AnchorPane.rightAnchor="30.0" AnchorPane.topAnchor="70.0">
               <children>
                  <ScrollPane fitToWidth="true" styleClass="transparent-scroll-pane" HBox.hgrow="ALWAYS">
                     <content>
                        <VBox fx:id="listaAlunosVBox" styleClass="list-vbox" />
                     </content>
                  </ScrollPane>
                  <VBox fx:id="solicitacoesVBox" alignment="TOP_CENTER" prefWidth="280.0" styleClass="solicitacoes-vbox">
                     <HBox.margin>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                     </HBox.margin>
                  </VBox>
               </children>
            </HBox>
         </children>
      </AnchorPane>
      <VBox fx:id="chatContainer" alignment="TOP_CENTER" maxHeight="600.0" maxWidth="800.0" style="-fx-background-color: white;" styleClass="chat-container" visible="false">
         <effect>
            <DropShadow height="30.0" radius="14.5" width="30.0">
               <color>
                  <Color opacity="0.2" />
               </color>
            </DropShadow>
         </effect>
         <children>
            <HBox alignment="CENTER_LEFT" prefHeight="60.0" styleClass="chat-header">
               <padding>
                  <Insets left="20.0" right="20.0" />
               </padding>
               <children>
                  <Circle fill="WHITE" radius="18.0" stroke="#BDBDBD" strokeType="INSIDE" />
                  <Label fx:id="chatAlunoNomeLabel" styleClass="chat-aluno-name" text="Nome Aluno">
                     <HBox.margin>
                        <Insets left="15.0" />
                     </HBox.margin>
                  </Label>
                  <Region HBox.hgrow="ALWAYS" />
                  <Button onAction="#fecharChat" styleClass="btn-icon, btn-close">
                     <graphic>
                        <SVGPath content="M 10,1 L 1,10 M 1,1 L 10,10" styleClass="svg-path" />
                     </graphic>
                  </Button>
               </children>
            </HBox>
            <StackPane styleClass="chat-messages-area" VBox.vgrow="ALWAYS">
               <VBox.margin>
                  <Insets left="20.0" right="20.0" />
               </VBox.margin>
               <children>
                  <Label fx:id="emptyChatMessage" styleClass="chat-empty-label" text="Ainda não há mensagens por aqui. Comece uma conversa!" />
                  <ScrollPane fx:id="messageScrollPane" fitToWidth="true" styleClass="transparent-scroll-pane" visible="false">
                     <content>
                        <VBox fx:id="messageVBox" styleClass="message-vbox" />
                     </content>
                  </ScrollPane>
               </children>
            </StackPane>
            <VBox spacing="10.0">
               <VBox.margin>
                  <Insets bottom="20.0" left="20.0" right="20.0" top="15.0" />
               </VBox.margin>
               <children>
                  <HBox alignment="CENTER" spacing="10.0">
                     <children>
                        <TextField fx:id="messageInputField" promptText="Escreva uma mensagem..." styleClass="chat-input-field" HBox.hgrow="ALWAYS" />
                        <Button onAction="#enviarMensagem" styleClass="btn-icon, btn-send">
                           <graphic>
                              <SVGPath content="M2 21l21-9L2 3v7l15 2-15 2v7z" styleClass="svg-path" />
                           </graphic>
                        </Button>
                     </children>
                  </HBox>
                  <HBox alignment="CENTER_RIGHT" spacing="10.0">
                     <children>
                        <Button styleClass="btn-icon, btn-action">
                           <graphic>
                              <SVGPath content="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z" styleClass="svg-path" />
                           </graphic>
                        </Button>
                        <Button styleClass="btn-icon, btn-action">
                           <graphic>
                              <SVGPath content="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" styleClass="svg-path" />
                           </graphic>
                        </Button>
                     </children>
                  </HBox>
               </children>
            </VBox>
         </children>
      </VBox>
   </children>
</StackPane>